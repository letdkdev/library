<!doctype html>
<html lang="en" data-bs-theme="auto">

<head>
    <script src="../assets/js/color-modes.js"></script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.111.3">
    <title>user add_form</title>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
          crossorigin="anonymous">


</head>

<body>


<div style="background-color: cornflowerblue; height: 3.5rem;">
    <h3 style="padding-left: 1rem; line-height: 3.5rem;">「도서관리 PJT」</h3>
</div>

<div class="container-fluid">
    <div class="row">


        <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-body-tertiary sidebar collapse">
            <div class="position-sticky pt-3 sidebar-sticky">
                <ul class="nav flex-column">

                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page"
                           href="/user">
                            <span data-feather="home" class="align-text-bottom"></span>
                            회원 main
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page"
                           href="/user/user_add">
                            <span data-feather="home" class="align-text-bottom"></span>
                            &nbsp;&nbsp;회원 등록
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page"
                           href="/user/list">
                            <span data-feather="home" class="align-text-bottom"></span>
                            &nbsp;&nbsp;회원 목록
                        </a>
                    </li>


                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page"
                           href="/book">
                            <span data-feather="home" class="align-text-bottom"></span>
                            도서 main
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page"
                           href="/book/book_add">
                            <span data-feather="home" class="align-text-bottom"></span>
                            &nbsp;&nbsp;도서 등록
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page"
                           href="/book/list">
                            <span data-feather="home" class="align-text-bottom"></span>
                            &nbsp;&nbsp;도서 목록
                        </a>
                    </li>


                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page"
                           href="/book">
                            <span data-feather="home" class="align-text-bottom"></span>
                            도서 대여 main
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page"
                           href="/book/list">
                            <span data-feather="home" class="align-text-bottom"></span>
                            &nbsp;&nbsp;도서 대여
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page"
                           href="/book/list">
                            <span data-feather="home" class="align-text-bottom"></span>
                            &nbsp;&nbsp;도서 반납
                        </a>
                    </li>

                </ul>


            </div>
        </nav>


        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="h2">회원 등록</h1>
            </div>

<!--            <form action="/user/add" method="post">-->
            <form action="return false" method="post">

                <label for="name">이름: </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="text" name="name" id="name">
                <br>

                <hr>

                <label for="age">나이: </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="text" name="age" id="age"><br>

                <hr>

                <label for="hp">전화번호: </label><input type="text" name="hp" id="hp"><br>

                <hr>

                <label for="address">주소: </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="text" name="address"
                                                                                      id="address"><br>

                <hr>

                <input type="button" class="form_submit" value="회원 저장">
            </form>

        </main>
    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js" integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE"
        crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js" integrity="sha384-gdQErvCNWvHQZj6XZM0dNsAoY4v+j5P1XDpNkcM3HJG1Yx04ecqIHk7+4VBOCHOG" crossorigin="anonymous"></script>

<script src="dashboard.js"></script>

<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

<script>
    $(document).ready(function() {

        $('input.form_submit').on("click", function() {

            $.ajax({
                type:'POST',
                url: '/rest_user/add',
                headers : { "content-type": "application/json"},
                dataType : 'text',
                data : JSON.stringify(
                    {
                        "name":$("#name").val(),
                        "age":$("#age").val(),
                        "hp":$("#hp").val(),
                        "address":$("#address").val(),

                    }
                ),

                success : function(result){

                    alert('등록 성공!!');

                    // location.href = 'redirect:/rest_user/list';
                    location.href = '/user/list.html';

                },

                error   : function(){ alert("error") } // 에러가 발생했을 때, 호출될 함수

            }); // $.ajax()
        })

    });
</script>